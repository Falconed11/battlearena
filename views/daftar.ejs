<div class="container mt-3">
    <h1>Halaman Login</h1>
</div>
<div class="container mt-3 position-relative">
    <form method="post" action="/player" class="position-absolute start-50 translate-middle-x border rounded-4 shadow p-3" style="width: 50vh;">
        <div class="mb-3">
            <label for="username" class="form-label">Nama User</label>
            <input type="text" class="form-control" name="username" id="username" aria-describedby="Nama User" required>
        </div>
        <div class="mb-3">
            <label for="password" class="form-label">Password</label>
            <input type="password" class="form-control" name="password" id="password">
        </div>
        <div class="mb-3">
            <label for="repassword" class="form-label">Ulangi Password</label>
            <input type="password" class="form-control" name="repassword" id="repassword">
        </div>
        <button id="btn-submit" type="submit" class="btn btn-primary">Daftar</button>
        <p class="mt-3">
            Sudah punya akun? <a href="/play">Klik untuk login!</a>
        </p>
    </form>
    <!-- <script>
        const form = document.querySelector('form')

        form.addEventListener('submit', e => {
            const username = document.getElementById('username').value
            const password = document.getElementById('password').value
            const data = { username, password }

            // console.log(password)
            // console.log(data)
            // console.log(JSON.stringify(data))

            e.preventDefault()

            postData('http://localhost:3000/player', data).then(res => {
                console.log(res)
                sessionStorage.setItem('message', 'Akun berhasil dibuat!')
                window.location.assign(res.redirect)
            })

            // fetch('http://localhost:3000/player', {
            //     method: "POST",
            //     headers: {
            //         "Content-Type": "aplication/json",
            //     },
            //     body: JSON.stringify(data),
            // })
        })

        // Example POST method implementation:
        async function postData(url, data) {
            // Default options are marked with *
            const response = await fetch(url, {
                method: "POST", // *GET, POST, PUT, DELETE, etc.
                headers: {
                    "Content-Type": "application/json",
                    // 'Content-Type': 'application/x-www-form-urlencoded',
                },
                redirect: "follow",
                body: JSON.stringify(data), // body data type must match "Content-Type" header
            })
            return response.json(); // parses JSON response into native JavaScript objects
        }

    </script> -->
</div>